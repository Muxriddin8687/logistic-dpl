<div class="container">
    <h4 class="mt-4 mb-3">My accepted qoutes</h4>
    <hr>

    <ul class="quote-list">
        <li>
            <div class="row w-100">
                <div class="col-md-3">From</div>
                <div class="col-md-3">To</div>
                <div class="col-md-2">Make</div>
                <div class="col-md-2">Model</div>
                <div class="col-md-2">Pickup date</div>
            </div>
        </li>
        <ng-container *ngFor="let item of quoteList(); let i=index;">
            <li (click)="selectQuote(item.id)" data-mdb-toggle="modal" data-mdb-target="#quoteModal">
                <div class="row w-100">
                    <div class="col-md-3">{{ i + 1 + '.&nbsp;&nbsp;' + item.from }}</div>
                    <div class="col-md-3">{{ item.to }}</div>
                    <div class="col-md-2">{{ item.make }}</div>
                    <div class="col-md-2">{{ item.model }}</div>
                    <div class="col-md-2">{{ item.pickup_date }}</div>
                </div>
            </li>
        </ng-container>
    </ul>
</div>


<!-- form modal -->
<div class="modal fade" id="quoteModal" tabindex="-1" aria-labelledby="quoteModalModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-body">

                <div class="container">
                    <h3 class="text-center">My accepted qoute</h3>

                    <form [formGroup]="autoForm" (ngSubmit)="send()">
                        <div class="row mt-5">

                            <!-- client fullname -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-6 col-xl-6 mx-auto mt-3">
                                <span>Fullname: </span>
                                <h5 class="d-inline">{{ autoForm.value.first_name + ' ' + autoForm.value.last_name }}</h5>
                            </div>

                            <!-- phone -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-6 col-xl-6 mx-auto mt-3">
                                <span>Contact: </span>
                                <h5 class="d-inline">{{ autoForm.value.phone + ' ' + autoForm.value.email }}</h5>
                            </div>

                            <hr>

                            <!-- from -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>{{ 'form.from' | translate }}</mat-label>
                                    <input type="text" matInput readonly formControlName="from" #inputFrom (input)="findCityByZipCodeFrom(inputFrom.value)" [matAutocomplete]="from">

                                    <mat-autocomplete #from="matAutocomplete">
                                        <mat-option [value]="searchResultFrom().city + ', ' + searchResultFrom().state + ' ' + inputFrom.value">
                                            {{ searchResultFrom().city }}
                                        </mat-option>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>

                            <!-- to -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>{{ 'form.to' | translate }}</mat-label>
                                    <input type="text" matInput readonly formControlName="to" #inputTo (input)="findCityByZipCodeTo(inputTo.value)" [matAutocomplete]="to">

                                    <mat-autocomplete #to="matAutocomplete">
                                        <mat-option [value]="searchResultTo().city + ', ' + searchResultTo().state + ' ' + inputTo.value">
                                            {{ searchResultTo().city }}
                                        </mat-option>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>

                            <!-- datepicker -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>Choose a date</mat-label>
                                    <input matInput [matDatepicker]="picker" readonly formControlName="pickup_date">
                                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                </mat-form-field>
                            </div>

                            <!-- truck type -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-3 mx-auto mt-3 d-flex align-items-center justify-content-start">
                                <div class="radio-btn">
                                    <input type="radio" class="form-check-input" readonly formControlName="truck_type" value="open" id="open">
                                    <label class="form-check-label" for="open">
                                        <img src="./assets/truck2.png" width="30px" alt="">&nbsp;{{ 'form.open' | translate }}
                                    </label>
                                </div>
                                <div class="radio-btn ms-3">
                                    <input type="radio" class="form-check-input" readonly formControlName="truck_type" value="enclosed" id="enclosed">
                                    <label class="form-check-label" for="enclosed">
                                        <img src="./assets/truck1.png" width="30px" alt="">&nbsp;{{ 'form.enclosed' | translate }}
                                    </label>
                                </div>
                            </div>

                            <!-- car year -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>{{ 'form.year' | translate }}</mat-label>
                                    <input type="text" matInput readonly formControlName="year">
                                </mat-form-field>
                            </div>

                            <!-- car make -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>{{ 'form.make' | translate }}</mat-label>
                                    <input type="text" matInput readonly formControlName="make" #makeInput [matAutocomplete]="makeSelect">

                                    <mat-autocomplete #makeSelect="matAutocomplete">
                                        <mat-option *ngFor="let option of (model | async) | search:makeInput.value" [value]="option.name">
                                            {{option.name}}
                                        </mat-option>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>

                            <!-- car model -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>{{ 'form.model' | translate }}</mat-label>
                                    <input type="text" matInput readonly formControlName="model" #modelInput [matAutocomplete]="carSelect">

                                    <mat-autocomplete #carSelect="matAutocomplete">
                                        <mat-option *ngFor="let option of (car | async) | search:modelInput.value" [value]="option.Model">
                                            {{option.Model}}
                                        </mat-option>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>

                            <!-- car type -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>{{ 'form.type' | translate }}</mat-label>
                                    <input type="text" matInput readonly formControlName="type" #typeInput [matAutocomplete]="typeSelect">

                                    <mat-autocomplete #typeSelect="matAutocomplete">
                                        <mat-option *ngFor="let option of (type | async) | search:typeInput.value" [value]="option.name">
                                            {{option.name}}
                                        </mat-option>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>

                            <hr class="mb-4">

                            <!-- custom id -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>Custop ID</mat-label>
                                    <input type="text" matInput readonly formControlName="custom_id">
                                </mat-form-field>
                            </div>

                            <!-- delivery date -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>Delivery date</mat-label>
                                    <input matInput [matDatepicker]="picker2" readonly formControlName="delivery_date">
                                    <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
                                    <mat-datepicker #picker2></mat-datepicker>
                                </mat-form-field>
                            </div>

                            <!-- total price -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <i matSuffix class="fa fa-dollar pe-2"></i>
                                    <mat-label>Total price</mat-label>
                                    <input type="text" matInput readonly formControlName="total_price">
                                </mat-form-field>
                            </div>

                            <!-- deposite price -->
                            <div class="col-11 col-sm-10 col-md-6 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <i matSuffix class="fa fa-dollar pe-2"></i>
                                    <mat-label>Deposite price</mat-label>
                                    <input type="text" matInput readonly formControlName="deposite_price">
                                </mat-form-field>
                            </div>

                            <hr class="mb-4">

                            <!-- client commentary -->
                            <div class="col-11 col-sm-10 col-md-12 mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>Write a comment on the terms of service</mat-label>
                                    <input type="text" matInput readonly formControlName="client_comment">
                                </mat-form-field>
                            </div>

                            <!-- admin commentary -->
                            <div class="col-11 col-sm-10 col-md-12 mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>Admin comment</mat-label>
                                    <input readonly type="text" matInput readonly formControlName="admin_comment">
                                </mat-form-field>
                            </div>


                            <hr class="my-4">

                            <div class="col-11 col-sm-10 col-md-4 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>Pickup full address</mat-label>
                                    <input type="text" matInput formControlName="pickup_address">
                                </mat-form-field>
                            </div>

                            <div class="col-11 col-sm-10 col-md-4 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>Delivery full address</mat-label>
                                    <input type="text" matInput formControlName="delivery_address">
                                </mat-form-field>
                            </div>

                            <div class="col-11 col-sm-10 col-md-4 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>Person full name (Pickup place)</mat-label>
                                    <input type="text" matInput formControlName="person_1">
                                </mat-form-field>
                            </div>

                            <div class="col-11 col-sm-10 col-md-4 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>Person phone (Pickup place)</mat-label>
                                    <input type="text" matInput formControlName="phone_1">
                                </mat-form-field>
                            </div>

                            <div class="col-11 col-sm-10 col-md-4 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>Person full name (Delivery place)</mat-label>
                                    <input type="text" matInput formControlName="person_2">
                                </mat-form-field>
                            </div>

                            <div class="col-11 col-sm-10 col-md-4 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>Person phone (Delivery place)</mat-label>
                                    <input type="text" matInput formControlName="phone_2">
                                </mat-form-field>
                            </div>

                            <div class="col-11 col-sm-10 col-md-4 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>#VIN</mat-label>
                                    <input type="text" matInput formControlName="vin">
                                </mat-form-field>
                            </div>

                            <div class="col-11 col-sm-10 col-md-4 col-lg-4 col-xl-3 mx-auto mt-3">
                                <mat-form-field class="w-100">
                                    <mat-label>#LOT</mat-label>
                                    <input type="text" matInput formControlName="lot">
                                </mat-form-field>
                            </div>


                            <div class="col-11 col-sm-10 col-md-12 text-center mt-3">
                                <button class="btn btn-danger me-2" data-mdb-dismiss="modal" (click)="delete(autoForm.value.id)" type="button">Delete</button>
                                <button class="btn btn-secondary me-2" data-mdb-dismiss="modal" type="button">Close</button>
                                <button [disabled]="autoForm.invalid" class="btn btn-warning" type="submit" data-mdb-dismiss="modal">Save and Send</button>
                            </div>

                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
</div>